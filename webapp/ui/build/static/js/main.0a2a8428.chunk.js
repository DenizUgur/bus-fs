(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{72:function(e,t,n){},76:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n(0),r=n.n(a),s=n(11),o=n.n(s),i=(n(72),n(25)),u=n.n(i),d=n(42),j=n(40),h=n(32),l=n(114),f=n(86),b=n(124),m=n(122),O=n(119),p=n(120),x=n(126),y=n(125),g=n(41),w=n.n(g),S=(n(76),"https://bus-fs.herokuapp.com");var v=function(){var e=Object(a.useState)(),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),o=Object(h.a)(s,2),i=o[0],g=o[1],v=Object(a.useState)(!0),k=Object(h.a)(v,2),C=k[0],E=k[1],T=Object(a.useState)(!1),N=Object(h.a)(T,2),D=N[0],I=N[1];return Object(a.useEffect)((function(){return fetch(S+"/manage/meta/all",{method:"POST"}).then((function(e){return e.json()})).then((function(e){r(e)})),function(){}}),[]),Object(a.useEffect)((function(){return i&&!i.loaded&&fetch(S+"/manage/meta/student",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w.a.stringify({email:i.email})}).then(function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return e.next=3,t.json();case 3:n=e.sent,g(Object(d.a)({loaded:!0},n)),n.accesses.length>0&&(E(!0),c=!1,n.accesses.forEach((function(e){e.macrofree&&(c=!0)})),I(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){}}),[i]),Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(l.a,{children:Object(c.jsxs)(f.a,{className:"Stage",children:[i&&i.loaded?Object(c.jsx)(b.a,{className:"StudentInfo",children:Object(c.jsx)("h1",{children:i.displayName})}):Object(c.jsx)("h2",{children:"Start typing the student's information to get started"}),n&&Object(c.jsx)(y.a,{id:"combo-box-demo",options:n.list,getOptionLabel:function(e){return e.sid+" - "+e.email},className:"SearchBox",renderInput:function(e){return Object(c.jsx)(m.a,Object(d.a)(Object(d.a)({},e),{},{label:"Student ID or E-Mail",variant:"outlined"}))},renderOption:function(e,t){t.selected;return Object(c.jsxs)(c.Fragment,{children:[e.sid,Object(c.jsx)("br",{}),e.email]})},onChange:function(e,t){g(t)}}),i&&i.loaded&&Object(c.jsxs)(b.a,{className:"Controls",children:[Object(c.jsxs)(O.a,{children:[Object(c.jsx)("h2",{children:"Access Control"}),0!==i.accesses.length&&C?Object(c.jsx)(p.a,{onClick:function(e){E(!1),fetch(S+"/manage/modify/access",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w.a.stringify({oid:i.oid,access:!1,macrofree:D})}).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?alert("Done"):alert("Error occured");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Submit"}):Object(c.jsx)("p",{children:"Student haven't accessed the system yet"})]}),Object(c.jsxs)(O.a,{children:[Object(c.jsx)("h2",{children:"MacroFree"}),Object(c.jsx)(x.a,{onChange:function(e){I(e.target.checked),E(!1),fetch(S+"/manage/modify/access",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:w.a.stringify({oid:i.oid,access:!1,macrofree:e.target.checked})}).then(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status?alert("Done"):alert("Error occured");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},checked:D})]})]})]})})})},k=n(55),C=n(121),E=Object(k.a)({palette:{primary:{main:"#1A1423"},secondary:{main:"#B75D69"}}});o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(C.a,{theme:E,children:Object(c.jsx)(v,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.0a2a8428.chunk.js.map